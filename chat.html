<!-- ЭКСТРЕННЫЙ ФИКС СТИЛЕЙ (Вставлен прямо в HTML, чтобы обойти кеш) -->
    <style>
        /* 1. Заставляем контейнер чата быть обычным блоком */
        #chat-window {
            display: block !important;
            flex-direction: unset !important;
            justify-content: unset !important;
            height: 100% !important;
            overflow-y: auto !important;
            padding-bottom: 20px;
        }

        /* 2. Запрещаем сообщениям растягиваться */
        .message-row {
            display: flex !important;
            align-items: flex-end !important; /* Прижимаем текст к низу строки, если она вдруг высокая */
            
            /* СБРОС РАЗМЕРОВ */
            flex: none !important; 
            flex-grow: 0 !important;
            height: auto !important;
            min-height: 0 !important;
            
            margin-bottom: 8px !important;
            padding: 0 24px !important;
            box-sizing: border-box !important;
        }

        /* 3. Фикс для самого пузыря с текстом */
        .msg-bubble {
            height: auto !important;
            min-height: 0 !important;
            width: fit-content !important;
            max-width: 100% !important;
        }

        /* 4. Фикс обертки контента */
        .msg-content-wrapper {
            height: auto !important;
            flex: none !important;
        }
        
        /* 5. Гарантия, что аватарка не исчезнет */
        .avatar-column {
            flex-shrink: 0 !important;
        }
    </style>
</head> <!-- Вот тут заканчивается head -->
