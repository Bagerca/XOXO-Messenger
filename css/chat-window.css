.chat-wrapper { flex: 1; display: flex; flex-direction: column; background: rgba(5, 5, 17, 0.4); }
.chat-header { height: 72px; padding: 0 32px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--glass-border); }
.header-left { display: flex; align-items: center; gap: 15px; }
.room-icon { width: 36px; height: 36px; background: var(--glass); border-radius: 10px; display: flex; justify-content: center; align-items: center; color: var(--text-gray); }
.room-info h2 { margin: 0; font-size: 18px; font-weight: 700; }
.room-desc { font-size: 12px; color: var(--text-gray); }
.btn-outlined { background: transparent; border: 1px solid var(--glass-border); color: var(--text-main); padding: 8px 16px; border-radius: 10px; cursor: pointer; }

#chat-window { flex: 1; padding: 20px 32px; overflow-y: auto; display: flex; flex-direction: column; gap: 4px; }
#chat-window::-webkit-scrollbar { width: 6px; }
#chat-window::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 10px; }

.message { display: flex; gap: 16px; padding: 8px 16px; border-radius: 8px; position: relative; transition: background 0.2s; }
.message:hover { background: rgba(255,255,255,0.03); }
.message:hover .msg-actions { display: flex; }

.msg-avatar { width: 40px; height: 40px; border-radius: 14px; flex-shrink: 0; background-size: cover; }
.msg-content { display: flex; flex-direction: column; gap: 2px; flex: 1; }
.msg-sender { font-weight: 700; font-size: 15px; cursor: pointer; }
.msg-sender:hover { color: var(--primary); text-decoration: underline; }
.msg-time { font-size: 11px; color: rgba(255,255,255,0.3); margin-left: 8px; }
.msg-text { font-size: 15px; line-height: 1.5; color: #dcddde; white-space: pre-wrap; word-wrap: break-word; }

/* Reply & Actions */
.reply-context { display: flex; align-items: center; gap: 5px; font-size: 12px; color: #a0a0a0; margin-bottom: 4px; position: relative; margin-left: 18px; }
.reply-context::before { content: ''; position: absolute; left: -14px; top: -2px; width: 24px; height: 8px; border-left: 2px solid #4f545c; border-top: 2px solid #4f545c; border-top-left-radius: 4px; }
.reply-avatar-mini { width: 16px; height: 16px; border-radius: 50%; background-size: cover; }
.reply-name { font-weight: 600; color: var(--primary); }

.msg-actions { position: absolute; top: -10px; right: 20px; background: #1e1e2f; border: 1px solid var(--glass-border); border-radius: 8px; padding: 2px; display: none; box-shadow: 0 4px 10px rgba(0,0,0,0.5); z-index: 10; }
.action-btn { width: 32px; height: 32px; display: flex; justify-content: center; align-items: center; cursor: pointer; color: #b9bbbe; border-radius: 4px; }
.action-btn:hover { background: rgba(255,255,255,0.1); color: white; }
.action-btn svg { width: 18px; }

.reactions-row { display: flex; flex-wrap: wrap; gap: 4px; margin-top: 4px; }
.reaction-pill { background: rgba(255,255,255,0.05); border: 1px solid transparent; border-radius: 8px; padding: 2px 6px; font-size: 12px; cursor: pointer; display: flex; gap: 4px; }
.reaction-pill.active { background: rgba(138, 43, 226, 0.2); border-color: var(--primary); }

/* Input */
.input-container { padding: 20px 32px; display: flex; flex-direction: column; gap: 10px; }
.reply-bar { display: none; align-items: center; justify-content: space-between; background: rgba(138, 43, 226, 0.1); border-left: 3px solid var(--primary); padding: 8px 12px; border-radius: 4px; font-size: 13px; color: #dcddde; }
.input-box { background: rgba(20, 20, 35, 0.8); backdrop-filter: blur(10px); border: 1px solid var(--glass-border); padding: 8px 10px 8px 20px; border-radius: 20px; display: flex; align-items: center; gap: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); transition: 0.3s; }
.input-box.editing { border-color: #ffd700; }
.input-box:focus-within { border-color: var(--primary); box-shadow: 0 10px 30px rgba(138, 43, 226, 0.15); }
input { flex: 1; background: transparent; border: none; color: white; font-size: 16px; outline: none; }
#send-btn { width: 44px; height: 44px; background: var(--primary); border: none; border-radius: 14px; color: white; cursor: pointer; display: flex; justify-content: center; align-items: center; }
